# ============================================================================
# Neo4j Aura DB + GraphRAG Configuration Template
# ============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file: cp .env.aura.template .env
# 2. Fill in your actual credentials below
# 3. Secure the file: chmod 600 .env
# 4. Never commit .env to git!
#
# ============================================================================

# ============================================================================
# OpenAI API Configuration
# ============================================================================
# Get your API key from: https://platform.openai.com/api-keys
# Example: sk-proj-abc123...xyz789
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================================================
# Neo4j Aura DB Configuration
# ============================================================================
# Get these from: https://console.neo4j.io/
# When you create a database, you'll see these credentials ONCE!
#
# ⚠️  CRITICAL: Save these immediately - you can't see the password again!
#
# Connection URI format: neo4j+s://[instance-id].databases.neo4j.io
# Example: neo4j+s://abc12345.databases.neo4j.io
NEO4J_URI=neo4j+s://your-instance.databases.neo4j.io

# Username (always 'neo4j' for Aura DB)
NEO4J_USER=neo4j

# Password (generated when you created the Aura DB instance)
# Example: X8h9K2mP5nQ7rT3wY6zA
# ⚠️  Case-sensitive! No spaces or quotes!
NEO4J_PASSWORD=YourAuraDBPasswordHere

# ============================================================================
# API Server Configuration
# ============================================================================
# Host (0.0.0.0 = allow external connections, 127.0.0.1 = local only)
API_HOST=0.0.0.0

# Port number for the API
API_PORT=8000

# ============================================================================
# Embedding Configuration
# ============================================================================
# Backend: 'openai' or 'sentence-transformers'
#
# sentence-transformers = FREE, runs locally, saves API costs
# openai = Better quality, costs API credits
#
RAG_EMBEDDING_BACKEND=sentence-transformers

# Sentence Transformers model (if using sentence-transformers backend)
# Recommended: BAAI/bge-small-en-v1.5 (best balance)
#
# Other options:
#   - BAAI/bge-base-en-v1.5 (better quality, slower, larger)
#   - all-MiniLM-L6-v2 (faster, lower quality, smaller)
#
SENTENCE_TRANSFORMERS_MODEL=BAAI/bge-small-en-v1.5

# ============================================================================
# Logging Configuration
# ============================================================================
# Enable verbose logging (1=enabled, 0=disabled)
RAG_VERBOSE=1

# ============================================================================
# Optional: Azure-specific Settings
# ============================================================================
# Your Azure VM public IP (for reference only)
# AZURE_VM_PUBLIC_IP=20.1.2.3

# Environment name (development/staging/production)
# ENVIRONMENT=production

# ============================================================================
# Security & Authentication Configuration
# ============================================================================
# Enable API authentication (JWT tokens)
ENABLE_AUTH=false

# JWT Secret Key (CHANGE THIS IN PRODUCTION!)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=change-this-secret-key-in-production

# Token expiration time in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=60

# API Keys for simple authentication (comma-separated)
# API_KEYS=key1,key2,key3

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
# Enable rate limiting
ENABLE_RATE_LIMITING=true

# ============================================================================
# CORS Configuration
# ============================================================================
# Allowed origins for CORS (comma-separated)
# For development: http://localhost:5173
# For production: https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Maximum request body size in bytes (default: 10MB)
MAX_REQUEST_SIZE=10485760

# ============================================================================
# Caching Configuration (Redis)
# ============================================================================
# Enable caching
CACHE_ENABLED=true

# Redis connection settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your-redis-password-if-needed

# Default cache TTL in seconds (1 hour)
CACHE_DEFAULT_TTL=3600

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Output JSON formatted logs (recommended for production)
JSON_LOGS=true

# Enable file logging
ENABLE_FILE_LOGGING=false

# ============================================================================
# SECURITY CHECKLIST
# ============================================================================
#
# After creating this file:
#
# [ ] Filled in all credentials above
# [ ] Changed JWT_SECRET_KEY to a secure random value
# [ ] Set appropriate ALLOWED_ORIGINS for your deployment
# [ ] No quotes around values (unless password has special characters)
# [ ] No extra spaces before/after values
# [ ] Secured file: chmod 600 .env
# [ ] Verified .env is in .gitignore
# [ ] Tested connection: python -c "from neo4j import GraphDatabase; ..."
# [ ] Saved backup of credentials in password manager
# [ ] Configured Redis if caching is enabled
# [ ] Set up Prometheus scraping if metrics are enabled
#
# ============================================================================

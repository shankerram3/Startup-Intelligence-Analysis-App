# ============================================================================
# Startup Intelligence Analysis App - Environment Variables
# ============================================================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ============================================================================
# REQUIRED - Core Configuration
# ============================================================================

# OpenAI API Key (required for entity extraction and LLM queries)
OPENAI_API_KEY=your_openai_api_key_here

# Neo4j Database Configuration (required)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password_here

# For Neo4j Aura (cloud):
# NEO4J_URI=neo4j+s://your-instance.databases.neo4j.io
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=your_aura_password

# ============================================================================
# API Server Configuration
# ============================================================================

# Server host and port
# Render uses PORT automatically, but you can override with API_PORT
PORT=8000
API_PORT=8000
API_HOST=0.0.0.0

# Environment (production/development)
# Set to "production" or "prod" to disable reload and enable optimizations
ENVIRONMENT=production

# Disable auto-reload in production (saves memory)
DISABLE_RELOAD=true

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Use JSON formatted logs (recommended for production)
JSON_LOGS=true

# Enable file logging (creates logs/api.log)
ENABLE_FILE_LOGGING=false

# Pipeline log path
PIPELINE_LOG_PATH=pipeline.log

# ============================================================================
# Redis Cache Configuration (Optional)
# ============================================================================

# Enable/disable caching
CACHE_ENABLED=true

# Redis connection (use REDIS_URL for full connection string, or individual settings)
# Option 1: Full Redis URL
# REDIS_URL=redis://user:password@host:port/db

# Option 2: Individual settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_USERNAME=

# Cache TTL in seconds (default: 3600 = 1 hour)
CACHE_DEFAULT_TTL=3600

# ============================================================================
# Security Configuration (Optional)
# ============================================================================

# Enable authentication (requires JWT_SECRET_KEY)
ENABLE_AUTH=false

# JWT secret key for authentication (generate with: openssl rand -hex 32)
JWT_SECRET_KEY=your_jwt_secret_key_here

# Enable rate limiting
ENABLE_RATE_LIMITING=true

# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Maximum request size in bytes (default: 10MB)
MAX_REQUEST_SIZE=10485760

# ============================================================================
# RAG Configuration (Optional)
# ============================================================================

# Embedding backend: "openai" or "sentence_transformers"
RAG_EMBEDDING_BACKEND=sentence_transformers

# Sentence Transformers model (if using sentence_transformers)
SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-small

# Enable verbose RAG logging
RAG_VERBOSE=0

# Resume vector index building (skip already indexed articles)
RAG_RESUME_INDEX=1

# ============================================================================
# Container/Deployment Configuration
# ============================================================================

# Mark as running in container (auto-detected, but can be set explicitly)
CONTAINER=false

# Enable reload (only for local development)
ENABLE_RELOAD=false

# ============================================================================
# CUDA/GPU Configuration
# ============================================================================

# Disable CUDA (for CPU-only deployments, e.g., AMD architecture)
CUDA_VISIBLE_DEVICES=""
TORCH_CUDA_ARCH_LIST=""
